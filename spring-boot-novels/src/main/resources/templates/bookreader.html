<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>$Title$</title>
</head>
<body>

</body>
</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" th:href="@{/css/read.css}" />
    <link href="/css/book.css" rel="stylesheet" />

</head>
<link th:href="@{/webjars/layui/2.7.6/dist/css/layui.css}" rel="stylesheet"/>
<style type="text/css">
    .screen_toolbar {
        position: fixed;
        width: 100%;
        left: 0px;
        bottom: 0px;
        text-align: center;
        z-index: 100;
    }

</style>
<script src="/webjars/jquery/3.6.1/dist/jquery.js"></script>
<script src="/js/bookdetail.js" type="text/javascript"></script>
<script type="text/javascript">
    BookDetail.SetReadFontFamilyClear(0);
    var font =  localStorage.getItem("fonts");
    var colorNum = localStorage.getItem("colorNum");
    var fontNum = localStorage.getItem("fontNum");


</script>
<body class="read_style_1"  oncontextmenu="return false" onselectstart="return false"
      ondragstart="return false" onbeforecopy="return false" oncopy="document.selection.empty()"
      onselect="document.selection.empty()">

<div>
</div>

<div id="showDetail">

    <div class="readBody cf">
        <div class="readMain cf">
            <div class="read_menu">
                <div class="menu_left" style="">
                    <ul>
                        <li><a class="ico_catalog"  title="目录">
                            <b>目录</b></a></li>
                        <li><a class="ico_page"   title="返回书页"><b>书页</b></a></li>
                        <li class="li_shelf" id="cFavs"><a class="ico_shelf" href="javascript:void(0);" title="加入书架"
                                                           onclick="javascript:BookDetail.AddFavorites(37,1959973,1);"><b>加书架</b></a></li>
                        <li class="li_shelfed" style="display: none;"><a class="ico_shelfed" href="javascript:void(0);"
                                                                         title="已收藏"><b>已收藏</b></a></li>

                        <li><a class="ico_comment"   title="评论">
                            <b>评论</b></a></li>
                        <li><a class="ico_setup" title="设置"><b>设置</b></a></li>
                    </ul>
                </div>
                <div class="menu_right" style="position: fixed; bottom: 0">
                    <ul>
                        <li><a class="ico_pagePrev" title="上一章"><i>上一章</i></a></li>
                        <li><a class="ico_pageNext"  title="下一章"><i>下一章</i></a></li>
                    </ul>
                </div>
            </div>
            <div class="readWrap">
                <div class="bookNav">
                    <a href="/" >返回首页</a>&gt; <a  >
                </a>

                </a>
                </div>
                <div id="readcontent">
                    <div class="textbox cf">
                        <div class="book_title">
                            <h1 th:text="${bookDataVo.bookDirectory}">
                            </h1>
                        </div>
                        <div class="txtwrap">
                            <div id="showReading" class="readBox" style="font-size: 32px; font-family: kaiti;">
                                <p th:text="${bookDataVo.bookContent}"></p>
                            </div>
                        </div>


                    </div>
                </div>
                <div class="nextPageBox">
                    <a class="prev"  th:href="@{/reader/000000{directoryId}(directoryId=${bookDataVo.directoryId}-1)}" >上一章</a> <a class="dir"
                >目录</a> <a class="next" th:href="@{/reader/000000{directoryId}(directoryId=${bookDataVo.directoryId}+1)}">下一章</a>
                </div>
            </div>
        </div>
    </div>
    <div class="readPopup qrBox" style="display: none">
        <a class="closePopup" href="javascript:void(0);" onclick="javascript:$('.maskBox,.qrBox').hide();"></a>
        <div class="popupTit">
            <h3>手机阅读</h3>
        </div>
        <div class="qrList">
            <ul>
            </ul>
        </div>
    </div>
    <div class="readPopup setupBox" style="display: none;">
        <a class="closePopup" href="javascript:void(0);" onclick="javascript:$('.maskBox,.setupBox').hide();"></a>
        <div class="popupTit">
            <h3>设置</h3>
        </div>
        <div class="setupList">
            <ul>
                <li class="readTheme">
                    <em class="tit">阅读主题：</em>
                    <a id="setup_color_white" class="white current"
                       href="javascript:void(0);" title="白色" onclick="javascript:BookDetail.SetBackUpColor(1);"></a><a id="setup_color_green" class="green" href="javascript:void(0);" title="绿色"
                                                                                                                       onclick="javascript:BookDetail.SetBackUpColor(2);"></a><a id="setup_color_pink" class="pink"
                                                                                                                                                                                 href="javascript:void(0);" title="粉色" onclick="javascript:BookDetail.SetBackUpColor(3);"></a><a id="setup_color_yellow" class="yellow" href="javascript:void(0);" title="黄色"
                                                                                                                                                                                                                                                                                 onclick="javascript:BookDetail.SetBackUpColor(4);"></a><a id="setup_color_gray" class="gray"
                                                                                                                                                                                                                                                                                                                                           href="javascript:void(0);" title="灰色" onclick="javascript:BookDetail.SetBackUpColor(5);"></a><a id="setup_color_night" class="night" href="javascript:void(0);" title="夜间"
                                                                                                                                                                                                                                                                                                                                                                                                                                           onclick="javascript:BookDetail.SetBackUpColor(6);"></a></li>
                <li class="setFont setBtn"><em class="tit">正文字体：</em> <a id="setup_font_yahei" class="setYahei current"
                                                                         href="javascript:void(0);" onclick="javascript:BookDetail.SetReadFontFamily(0);">雅黑</a> <a id="setup_font_simsun" class="setSimsun" href="javascript:void(0);" onclick="javascript:BookDetail.SetReadFontFamily(1);">宋体</a> <a id="setup_font_ks" class="setKs" href="javascript:void(0);" onclick="javascript:BookDetail.SetReadFontFamily(2);">楷书</a> </li>
                <li class="fontSize setBtn"><em class="tit">字体大小：</em> <a class="small" href="javascript:void(0);"
                                                                          onclick="javascript:BookDetail.SetReadFont(-2);">A-</a><span class="current_font"
                                                                                                                                       id="cFonts">
                            16</span><a class="big" href="javascript:void(0);" onclick="javascript:BookDetail.SetReadFont(2);">A+</a> </li>
            </ul>
        </div>
    </div>
</div>
<div class="maskBox" style="display: none">
</div>
<div id="showError">
    <span id="LabErrorStatus"></span>
</div>

<div class="maskBox" style="display: none" onclick="javascript:uFans.closeBox();"></div>
<div class="readPopup pcBox" style="display: none" id="showPC"></div>
<div class="readPopup flowerBox" style="display: none" id="showFlower"></div>
<div class="readPopup newsTipBox" style="display: none;" id="showNote"></div>



<script language="javascript" type="text/javascript">
    if(font){
        $(".readBox").css("font-size", font + "px");
        $("#cFonts").html(font);
        $("#ChapterBody").attr("class","article-content font"+font);
        BookDetail.reShowCover();
    }
    if(fontNum){
        BookDetail.SetReadFontFamily(fontNum);
    }
    if(colorNum){
        BookDetail.SetBackUpColor(colorNum);
        if(colorNum == 6){
            $(".logo img").attr("src", "/images/logo_white.png");
        }
    }



    var bookId = $("#bookId").val();
    var indexId = $("#preContentId").val();
    var preIndexId = $("#preIndexId").val();
    var nextIndexId = $("#nextIndexId").val();
    $(function () {
        BookDetail.GetReadSet(bookId,indexId,preIndexId,nextIndexId,1);
        $(".ico_setup").click(function () {

            $(".maskBox,.setupBox").show();
        });
        $(".ico_phone").click(function () {
            $(".maskBox,.qrBox").show();
        });

        $(window).scroll(function () {
            var vtop = $(document).scrollTop();
            var vbottom = $(document).height() - vtop - $(window).height();
            if (vtop > 50) {
                $(".menu_left").css("position", "fixed"); $(".menu_left").css("top", "2px");
            }
            else {
                $(".menu_left").css("position", "absolute"); $(".menu_left").css("top", "60px")
            }

            if (vbottom < 150) {
                $(".menu_right").css("position", "absolute"); $(".menu_right").css("bottom", "150px");
            }
            else {
                $(".menu_right").css("position", "fixed"); $(".menu_right").css("bottom", "2px");
            }
        });

        var bgClass = '1';
        if (bgClass == 6) {
            $(".logo img").attr("src", "/images/logo_white.png");
        }
        $(".readTheme a").click(function () {
            $(".logo img").attr("src", "/images/logo.png");
        })
        $("#setup_color_night").click(function () {
            $(".logo img").attr("src", "/images/logo_white.png");
        });


    });

    function enterPreIndexPage(bookId,bookIndexId){
        if(bookIndexId != 0){
            window.location.href = '/book/'+bookId+'/'+bookIndexId+".html";
        }else{
            window.location.href = '/book/indexList-' + bookId + '.html';
        }

    }
    function enterNextIndexPage(bookId,bookIndexId){
        if(bookIndexId != 0){
            window.location.href = '/book/'+bookId+'/'+bookIndexId+".html";
        }else{
            window.location.href = '/book/indexList-' + bookId + '.html';
        }

    }


</script>
</body>
</html>
